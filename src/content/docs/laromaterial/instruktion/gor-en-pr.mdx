---
title: "Gör en PR (kmom03 och kmom06)" 
description: Instruktion om hur du gör en pull request (PR) för att lämna in.
sidebar:
    order: 035
    # hidden: true
---

import Figure from '@components/CustomFigure.astro';
import YouTube from '@components/YouTube.astro';

Följ denna instruktionen för att göra en pull request (PR) för att lämna in uppgiften i kmom03 och kmom06.

:::note
Bilderna visar inlämning för kmom03. Flödet är likadant för kmom06. I instruktionerna när det står `<X>`, ersätt det med `3` om du lämnar in kmom03 och `6` om du lämnar in kmom06.
:::

## Förutsättning

Du har uppfyllt kraven i uppgiften kmom03/kmom06 och har gjort en vanlig inlämning enligt [Resultat och redovisning](/website/laromaterial/instruktion/resultat-och-redovisning).



## Ordlista

- `PR`: Pull request
- `Submitted`: Du sätter den som label när du gör en Pull request.
    - Om de automatiska testerna går fel kan du använda denna label för att köra testerna igen. Lös felet, ladda upp koden, gör en ny tag, ta bort label `Submitted` från din PR och lägg till den igen. Då körs testerna på koden igen.
- `Approved`/`G`/`1`: Helt klar med en uppgift.
- `PG`/`0.98`/`0.29`(i kmom10): Preliminärt Godkänt. Testerna går igenom, nu ska du bara vänta på att en lärare kollar på din inlämning.
- `TUx`/`0.79`: Något i de automatiserade testerna gick fel. Kolla igenom vad och fixa det.
- `Needs improvement`/`Ux`/`0.49`: En lärare har bedömt din inlämning men tycker att något behöver förbättras i din inlämning. Använd dig av label `Re-submitted` när du har gjort din uppdatering.
- `Re-submitted`: Du sätter den som label på din PR efter att du har fixat den komplettering en lärare gav på din inlämning.
    - Denna label går att använda precis som `Submitted` för att köra de automatiska testerna.
- `Submission not approved`/`U`/`0`: En lärare har bedömt din `Re-submitted` men tycker inte att det är tillräckligt bra. Du behöver göra en ny inlämning till nästa rättningstillfälle.
- `Integration failed`: Något i koden som kör de automatiserade testerna gick fel. Kontakta en lärare.

## Mitt eget arbete

Det du lämnar in är ditt eget arbete. Om du har tagit hjälp av extern kod, eller om du har kopierat någon mindre del av koden, så är det tydligt angivet i kommentarerna i koden eller i din redovisningstext.

I samband med att du gör din PR så intygar du att arbetet är ditt eget och uppfyller de regler som finns för "[Fusk och medveten vilseledning](/website/studieguide/fusk/)".



## Pull request (PR)

Du skall nu göra din inlämning som en PR mot följande branch.

### kmom03
* `bth/submit/kmom03`

### kmom06
* `bth/submit/kmom06`

Följ stegen nedan för att skapa en PR.



### Gå till din kod på GitHub

Du gör detta med hjälp av GitHub. Se till att du har pushat din aktuella kodbas till GitHub och öppna webbläsaren mot din kod på GitHub.

import pr1 from '@assets/pr/pr1.png';

<Figure 
    src={pr1}
    caption="Kodbas på GitHub."
/>



### Gå till Pull requests

Klicka på "Pull requests" i navbaren för din kodbas.

import pr2 from '@assets/pr/pr2.png';

<Figure 
    src={pr2}
    caption="Pull requests."
/>



### Förbered att skapa en ny PR

Klicka på på "New Pull Request" (se föregående bild).

import pr3 from '@assets/pr/pr3.png';

<Figure 
    src={pr3}
    caption="New pull requests."
/>



### Välj brancher att jämföra

Nu skall du välja vilken branch du vill skapa en PR mot. 

Din "base" skall vara `bth/submit/kmom0<X>` (3 för kmom03 och 6 för kmom06) (1 i bilden).

Din "compare" skall vara `main` (2 i bilden).

Det betyder att du vill merga `main` in till `bth/submit/kmom0X`.

import pr4 from '@assets/pr/pr4.png';

<Figure 
    src={pr4}
    caption="Gör en PR för att merga main in till bth/submit/kmom03."
/>



### Öppna en PR mot en branch

Nu är du redo att skapa en PR, klicka på "Create pull request" (3 i bilden ovan).

import pr5 from '@assets/pr/pr5.png';

<Figure 
    src={pr5}
    caption="Gör en PR för att merga main in till bth/submit/kmom03."
/>

Nu skall du fylla i detaljer om din PR (se de gröna runda markeringarna i bilden ovan).

Som **titel** skriver du "Inlämning av kmom0\<X\>"

Som **assignees** lägger du in dig själv. Lägg **inte** mig eller någon anna lärare.

Som **label** lägger du in "Submitted".

Nu kan du lägga till din PR genom att klicka knappen "Create pull request".



### En ny PR är öppnad

När det är klart kan det se ut så här.

import pr6 from '@assets/pr/pr6.png';

<Figure 
    src={pr6}
    caption="Gör en PR för att merga main in till bth/submit/kmom03."
/>


### Tester

Vänta ett par minuter, skrolla sen ner för att se att testerna har godkänts.

import pr7 from '@assets/pr/pr7.png';

<Figure 
    src={pr7}
    caption="Lyckat resultat från testerna."
/>


På bilden ovanför kan du se hur det ser ut när allt är OK. Testerna har lyckats och din inlämning är registrerad i Canvas. På din Canvas ska du har fått betyg `PG` på kmom0\<X\> inlämningen.



### Något gick fel

Om något gick fel med tester eller validering får du betyg `TUx` på Canvas och det ser ut som nedanför i din PR.

import pr_fail from '@assets/pr/pr_fail.png';

<Figure 
    src={pr_fail}
    caption="Lyckat resultat från testerna."
/>

Nu behöver du kolla vad som gick fel och fixa felet. Klicka på länken med ett rött kryss framför sig. Då kommer du vidare till att se vad som gick fel. Om felet är din kod ska länken ta dig till utskrift från antingen `tester` eller `ruff`. Då kan du själv se vad som är fel och fixa det. Om du får något annat konstigt fel du inte förstår, kolla om felet finns med nedanför i [Vanliga fel](#vanliga-fel) annars kontakta en lärare och be om hjälp.

När du har fixat dina fel, gör:
- Följ instruktionerna under [Actions testerna blir fel
](/website/laromaterial/instruktion/resultat-och-redovisning#actions-testerna-blir-fel) för att ladda upp din kod när du har fixat felet.
- I din PR ta bort label `Submitted` och lägg till den sen igen. Då körs testerna igen.
- Om din fix funkade ska du nu få `PG`som resultat. Om det blir fel igen återupprepa stegen ovanför.

:::tip
Vi rättar inte inlämningar med betyg TUx. Se till att du fixar felen och laddar upp den nya koden till GitHub. Kolla att du har fått PG. Om du får TUx igen behöver du kolla felet igen och lösa det. Osv.
:::



## Feedback och bedömning

När läraren rättar din PR så får du återkoppling i kommentarer till din PR.

### Approved / G

Om läraren tycker att allt ser bra ut får du en kommentar, label `Approved` och `G` i Canvas. Lärare mergar din PR. Du kan jobba vidare med nästa kmom.

### Needs improvement / Ux

Om läraren tycker att något är fel som du behöver fixa får du label `Needs improvement` och `Ux` på Canvas. Det kommer finnas kommentarer på specifika rader. Om kommentaren innehåller en `Warning` som på bilden nedanför, då måste du åtgärda det i din kod. Om kommentaren inte innehåller `Warning` behöver du inte åtgärda det som står där.

import pr_warning from '@assets/pr/pr_comment_warning.png';

<Figure 
    src={pr_warning}
    caption="Kommentar som ska åtgärdas."
/>

När du har åtgärdat felen gör följande:

- Följ instruktionerna under [Actions testerna blir fel
](/website/laromaterial/instruktion/resultat-och-redovisning#actions-testerna-blir-fel) för att ladda upp din kod när du har fixat felet.
- I din PR sätt label `Re-submitted`. Då körs testerna igen.
- Om din fix funkade ska du nu få `PG`som resultat. Om du får fel i testerna, återupprepa stegen ovanför. För att köra testerna igen, ta bort och lägg till label `Re-submitted`.

### Submission not approved / U

Om åtgärderna du gjorde i `Re-submitted` bedöms att inte vara tillräckliga får du label `Submission not approved` och `U` i Canvas. Det kommer finnas kommentarer som förklara felet och läraren kommer stänga din PR.

I kmom10, vid större fel, ges inte komplettering. Då kan du få U direkt.

Din inlämning kommer inte rättas mer. Du behöver göra en ny inlämning till nästa rättningstillfälle. I [studieplanen](/website/intro/studieplan/) hittar du när nästa rättningstillfälle är.



## Vanlig fel

### Cannot index array with string "attempt"

import pr_fail_id from '@assets/pr/pr_fail_id.png';

<Figure 
    src={pr_fail_id}
    caption="Misslyckade tester."
/>

Något är felaktigt med `STUDENT_CANVAS_ID`. När du fixade labbmiljön skulle du skapa variabeln `STUDENT_CANVAS_ID` i ditt repo. Antingen har du gett den fel värde, gett variabeln fel namn eller skapat den som en secret istället för variabel. [Lägg till Canvas student ID i repo](/website/laromaterial/kursrepo/lagg-till-studentid/).

När du har fixat variabeln, skrolla längs upp och tryck på knappen `Re-run all jobs`.

import pr_re_run from '@assets/pr/pr_re_run.png';

<Figure 
    src={pr_re_run}
    caption="Lyckat resultat från testerna."
/>
